[package]
name = "uzkv-plonk"
version = "0.1.0"
edition = "2021"
rust-version = "1.75"

[lib]
crate-type = ["cdylib", "rlib"]

[dependencies]
stylus-sdk = "0.5.0"

# Custom allocator for no_std WASM environment
wee_alloc = "0.4.5"

# halo2 PLONK dependencies (production-grade)
# Using arkworks backend for BN254 curve consistency with Groth16
halo2_proofs = { version = "0.3", default-features = false, features = ["bn254"] }
halo2curves = { version = "0.5", default-features = false, features = ["bn256"] }

# Cryptographic primitives
# Using same arkworks dependencies as Groth16 for consistency
ark-bn254 = { version = "0.4", default-features = false, features = ["std"] }
ark-ec = { version = "0.4", default-features = false, features = ["std"] }
ark-ff = { version = "0.4", default-features = false, features = ["std"] }
ark-serialize = { version = "0.4", default-features = false, features = ["std"] }
ark-std = { version = "0.4", default-features = false, features = ["std"] }
ark-poly = { version = "0.4", default-features = false, features = ["std"] }

# Transcript for Fiat-Shamir
sha3 = { version = "0.10", default-features = false }

[profile.release]
codegen-units = 1        # Maximum optimization
panic = "abort"          # Smaller panic handler
opt-level = "z"          # Optimize for size
strip = true             # Remove debug symbols
lto = true               # Link-time optimization

[features]
default = []
std = []
